(this["webpackJsonpusers-table-matriks"]=this["webpackJsonpusers-table-matriks"]||[]).push([[0],[,,,,function(e,t,n){e.exports={form:"SearchForm_form__1AHo6",formSelect:"SearchForm_formSelect__2-hcv",formButton:"SearchForm_formButton__1Rr0C",inputField:"SearchForm_inputField__1zDtD",formHints:"SearchForm_formHints__3ZMG2",formHint:"SearchForm_formHint__2B8jV",formLabel:"SearchForm_formLabel__2Uv10"}},function(e,t,n){e.exports={info:"TableBody_info__rYA8T",lastCol:"TableBody_lastCol__25mFb",deleteButton:"TableBody_deleteButton__3RPWE",controlls:"TableBody_controlls__3l-qT",pageButton:"TableBody_pageButton__3co4q"}},,,,function(e,t,n){e.exports={inputField:"AddUsers_inputField__3Nn2m",buttonReset:"AddUsers_buttonReset__3eNAX",inputError:"AddUsers_inputError__3rQxI",inputErrorActive:"AddUsers_inputErrorActive__3XNnr"}},,function(e,t,n){e.exports={sortButton:"TableHeader_sortButton__1SVQQ",lastCol:"TableHeader_lastCol__1AEMO"}},,,function(e,t,n){e.exports={table:"Table_table__ojBh3"}},function(e,t,n){e.exports={app:"App_app__1kX79"}},,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(13),c=n.n(a),u=(n(20),n(2)),o=n(3),l=n(4),i=n.n(l),j=n(0);function b(e){var t=e.usersToDisplay,n=e.setUsersToDisplay,a=e.currentUsers,c=e.handleChange,l=e.setUpdateUsers,b=Object(r.useState)(""),d=Object(u.a)(b,2),f=d[0],m=d[1],h=Object(r.useState)(""),O=Object(u.a)(h,2),p=O[0],v=O[1],x=Object(r.useState)([]),C=Object(u.a)(x,2),g=C[0],_=C[1],U=Object(r.useState)([]),S=Object(u.a)(U,2),y=S[0],T=S[1],D=Object(r.useState)([]),B=Object(u.a)(D,2),N=B[0],k=B[1];Object(r.useEffect)((function(){_(Object(o.a)(Object.keys(a[0]))),v(Object.keys(a[0])[0])}),[a]);var E=s.a.useCallback((function(e){y&&"Enter"===e.key&&(n(Object(o.a)(N)),T([]),m(""))}),[y,N,n]);Object(r.useEffect)((function(){function e(e){e.target.className.includes("formHint")||(T([]),m(""))}return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[]),Object(r.useEffect)((function(){return document.addEventListener("keypress",E),function(){return document.removeEventListener("keypress",E)}}),[E]);return Object(j.jsxs)("form",{className:i.a.form,onSubmit:function(e){return e.preventDefault()},children:[Object(j.jsx)("select",{value:p,onChange:function(e){return v(e.target.value)},className:i.a.formSelect,children:function(){var e=g.map((function(e){switch(e){case"name":return"\u0438\u043c\u044f";case"gender":return"\u043f\u043e\u043b";default:return e}}));return Object(j.jsx)(j.Fragment,{children:e.map((function(e,t){return Object(j.jsx)("option",{value:[g[t]],children:e},e)}))})}()}),Object(j.jsxs)("div",{className:i.a.inputField,children:[Object(j.jsx)("input",{value:f,onChange:function(e){m(e.target.value.toLowerCase());var n=e.target.value.toLowerCase(),r=t.filter((function(e){return-1!==e[p].toLowerCase().indexOf(n)})),s=r.map((function(e){return e[p]}));s=s.filter((function(e,t,n){return n.indexOf(e)===t})),T(Object(o.a)(s)),k(Object(o.a)(r)),l(!1)},className:i.a.formInput}),Object(j.jsx)("div",{className:i.a.formHints,children:y.slice(0,10).map((function(e,r){return Object(j.jsx)("p",{className:i.a.formHint,onClick:function(){return function(e){var r=t.filter((function(t){return t[p]===e}));n(Object(o.a)(r)),T([]),m(e),l(!1)}(e)},children:e},r)}))})]}),Object(j.jsx)("button",{type:"button",onClick:function(){n(Object(o.a)(a)),l(!1),c("usersCount",a.length)},className:i.a.formButton,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})]})}function d(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,r){return(n[e]<r[e]?-1:n[e]>r[e]?1:0)*t}}var f=n(11),m=n.n(f);function h(e){var t=e.usersToDisplay,n=e.setUsersToDisplay,s=e.currentUsers,a=e.setUpdateUsers,c=e.handleChange,l=Object(r.useState)(""),i=Object(u.a)(l,2),f=i[0],h=i[1];return Object(j.jsxs)("thead",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{colSpan:"3",children:Object(j.jsx)(b,{usersToDisplay:t,setUsersToDisplay:n,currentUsers:s,setUpdateUsers:a,handleChange:c})}),Object(j.jsx)("th",{className:m.a.lastCol})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:Object(j.jsxs)("button",{onClick:function(){return(e="name")===f?(h("-".concat(e)),n(Object(o.a)(t.sort(d("-".concat(e)))))):(h(e),n(Object(o.a)(t.sort(d(e))))),void a(!1);var e},className:m.a.sortButton,children:[" ","\u0418\u043c\u044f ",f?"-"===f.substr(0,1)?"\u2193":"\u2191":"\u2193\u2191"]})}),Object(j.jsx)("th",{children:"\u041f\u043e\u043b"}),Object(j.jsx)("th",{children:"Email"}),Object(j.jsx)("th",{className:m.a.lastCol})]})]})}var O=n(5),p=n.n(O);function v(e){var t=e.usersToDisplay,n=e.setUsersToDisplay,s=e.setUpdateUsers,a=e.handleChange,c=e.setCurrentUsers,l=(e.updateUsers,function(e,t,n){var s=Object(r.useState)(1),a=Object(u.a)(s,2),c=a[0],o=a[1],l=Object(r.useState)(1),i=Object(u.a)(l,2),j=i[0],b=i[1];Object(r.useEffect)((function(){b(Math.ceil(t.length/e)),d().length||o(1)}),[t,e]);var d=function(){var n=(c-1)*e,r=n+e;return t.slice(n,r)};return{currentPageData:d,nextPage:function(){o((function(e){return Math.min(e+1,j)}))},prevPage:function(){o((function(e){return Math.max(e-1,1)}))},prevButtonDisabled:function(){return 1===c},nextButtonDisabled:function(){return c===j}}}(10,t)),i=l.currentPageData,b=l.nextPage,d=l.prevPage,f=l.prevButtonDisabled,m=l.nextButtonDisabled;return Object.keys(t[0]).length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("tbody",{children:i().map((function(e,r){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name},e.name),Object(j.jsx)("td",{children:e.gender},e.gender),Object(j.jsx)("td",{children:e.email},e.email),Object(j.jsx)("td",{className:p.a.lastCol,children:Object(j.jsx)("button",{onClick:function(){!function(e){var r=t.filter((function(t){return t.email!==e.email}));r.length?(n(Object(o.a)(r)),c(Object(o.a)(r)),s(!1),a("usersCount",r.length)):n([{}])}(e)},className:p.a.deleteButton,children:"X"})},r+"delete")]},r)}))}),Object(j.jsx)("tfoot",{children:Object(j.jsx)("tr",{children:Object(j.jsxs)("td",{colSpan:"4",className:p.a.controlls,children:[Object(j.jsx)("button",{onClick:function(){return d()},className:p.a.pageButton,disabled:f(),children:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440"}),Object(j.jsx)("button",{onClick:function(){return b()},className:p.a.pageButton,disabled:m(),children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440"})]})})})]}):Object(j.jsx)("tbody",{children:Object(j.jsx)("tr",{children:Object(j.jsx)("td",{className:p.a.info,colSpan:"4",children:"\u043d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})})})}var x=n(14),C=n.n(x);function g(e){var t=e.usersToDisplay,n=e.setUsersToDisplay,r=e.currentUsers,s=e.setUpdateUsers,a=e.handleChange,c=e.setCurrentUsers,u=e.updateUsers;return Object(j.jsxs)("table",{className:C.a.table,children:[Object(j.jsx)(h,{usersToDisplay:t,setUsersToDisplay:n,currentUsers:r,setUpdateUsers:s,handleChange:a}),Object(j.jsx)(v,{usersToDisplay:t,setUsersToDisplay:n,handleChange:a,setUpdateUsers:s,setCurrentUsers:c,updateUsers:u})]})}var _=n(7),U=n(6);var S=n(15),y=n.n(S),T=n(9),D=n.n(T);function B(e){var t=e.usersCountHandleChange,n=e.resetForm,r=e.values,s=e.isValid,a=e.errors;return Object(j.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(j.jsxs)("label",{children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",Object(j.jsxs)("div",{className:D.a.inputField,children:[Object(j.jsx)("input",{id:"usersCount",type:"number",value:r.usersCount||"",onChange:t,name:"usersCount",min:"1",max:"100",required:!0}),Object(j.jsx)("button",{type:"button",onClick:function(e){return n({usersCount:0},{usersCount:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e."},!1)},className:D.a.buttonReset,children:"\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),Object(j.jsx)("span",{className:s?D.a.inputError:D.a.inputErrorActive,children:a.usersCount||""})]})]})})}var N=function(){var e=Object(r.useState)([{}]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=function(){var e=s.a.useState({}),t=Object(u.a)(e,2),n=t[0],a=t[1],c=s.a.useState({}),o=Object(u.a)(c,2),l=o[0],i=o[1],j=s.a.useState(!1),b=Object(u.a)(j,2),d=b[0],f=b[1],m=Object(r.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),i(e),f(t)}),[a,i,f]);return{values:n,handleChange:function(e){var t=e.target,r=t.name,s=t.value;a(Object(U.a)(Object(U.a)({},n),{},Object(_.a)({},r,s))),i(Object(U.a)(Object(U.a)({},l),{},Object(_.a)({},r,t.validationMessage))),f(t.closest("form").checkValidity())},errors:l,isValid:d,resetForm:m,handleChangeValueManually:function(e,t){a(Object(U.a)(Object(U.a)({},n),{},Object(_.a)({},e,t)))}}}(),o=c.values,l=c.handleChange,i=c.errors,b=c.isValid,d=c.resetForm,f=c.handleChangeValueManually,m=function(e,t,n){var s=Object(r.useState)(e),a=Object(u.a)(s,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){if(n){var r=setTimeout((function(){o(e)}),t);return function(){clearTimeout(r)}}}),[e,t,n]),c}(o.usersCount,500,b),h=Object(r.useState)([{}]),O=Object(u.a)(h,2),p=O[0],v=O[1],x=Object(r.useState)(!0),C=Object(u.a)(x,2),S=C[0],T=C[1];return Object(r.useEffect)((function(){d({usersCount:10},{usersCount:""},!0),localStorage.getItem("usersCount")?(d({usersCount:localStorage.getItem("usersCount")},{usersCount:""},!0),localStorage.removeItem("usersCount")):localStorage.setItem("usersCount",10)}),[d]),Object(r.useEffect)((function(){var e;S&&(e=m,fetch("https://api.randomuser.me/?results=".concat(e)).then((function(e){return e.json()})).then((function(e){return e.results}))).then((function(e){a(e.map((function(e){var t="male"===e.gender?"\u043c\u0443\u0436\u0441\u043a\u043e\u0439":"\u0436\u0435\u043d\u0441\u043a\u0438\u0439";return{name:"".concat(e.name.title," ").concat(e.name.first," ").concat(e.name.last),gender:t,email:e.email}}))),v(e.map((function(e){var t="male"===e.gender?"\u043c\u0443\u0436\u0441\u043a\u043e\u0439":"\u0436\u0435\u043d\u0441\u043a\u0438\u0439";return{name:"".concat(e.name.title," ").concat(e.name.first," ").concat(e.name.last),gender:t,email:e.email}})))})).catch((function(e){return console.log(e)})),localStorage.setItem("usersCount",m)}),[m,S]),Object(j.jsxs)("div",{className:y.a.app,children:[Object(j.jsx)(B,{usersCountHandleChange:function(e){T(!0),l(e)},handleChange:f,setUpdateUsers:T,resetForm:d,values:o,isValid:b,errors:i}),Object(j.jsx)(g,{handleChange:f,setUpdateUsers:T,usersToDisplay:p,setUsersToDisplay:v,currentUsers:n,setCurrentUsers:a,updateUsers:S})]})};c.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.9219de2b.chunk.js.map