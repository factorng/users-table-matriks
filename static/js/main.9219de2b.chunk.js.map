{"version":3,"sources":["SearchForm.module.css","TableBody.module.css","AddUsers.module.css","TableHeader.module.css","Table.module.css","App.module.css","SearchForm.js","utils/sort.js","TableHeader.js","TableBody.js","hooks/usePagination.js","Table.js","AddUsers.js","App.js","hooks/formWithValidation.js","hooks/useDebounce.js","utils/api.js","index.js"],"names":["module","exports","SearchForm","usersToDisplay","setUsersToDisplay","currentUsers","handleChange","setUpdateUsers","useState","inputSearch","setInputSearch","selectedField","setSelectedField","fields","setFields","searchHints","setSearchHints","findedUsers","setFindedUsers","useEffect","Object","keys","handleShowFindedUsers","React","useCallback","event","key","handleResetSearch","target","className","includes","document","addEventListener","removeEventListener","styles","form","onSubmit","preventDefault","value","onChange","formSelect","translatedFields","map","name","field","i","renderSelect","inputField","toLowerCase","searchQuery","filter","elem","indexOf","hints","v","a","formInput","formHints","slice","hint","formHint","onClick","selectedData","handleHintClick","type","length","formButton","dynamicSort","property","sortOrder","substr","b","TableHeader","sortCategory","setSortCategory","colSpan","lastCol","categoryName","sort","sortButton","TableBody","setCurrentUsers","updateUsers","itemsPerPage","data","isDataUpdated","currentPage","setCurrentPage","maxPage","setMaxPage","Math","ceil","currentPageData","begin","end","nextPage","min","prevPage","max","prevButtonDisabled","nextButtonDisabled","usePagination","user","gender","email","currentUsersAfterDelete","usr","handleRowDelete","deleteButton","controlls","pageButton","disabled","info","Table","table","AddUsers","usersCountHandleChange","resetForm","values","isValid","errors","id","usersCount","required","buttonReset","inputError","inputErrorActive","App","setValues","setErrors","setIsValid","newErrors","newIsValid","validationMessage","closest","checkValidity","handleChangeValueManually","useFormWithValidation","usersCountInputDebounced","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","localStorage","getItem","removeItem","setItem","usersNumber","fetch","then","res","json","results","users","renamedGender","title","first","last","catch","err","console","log","app","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9219de2b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__1AHo6\",\"formSelect\":\"SearchForm_formSelect__2-hcv\",\"formButton\":\"SearchForm_formButton__1Rr0C\",\"inputField\":\"SearchForm_inputField__1zDtD\",\"formHints\":\"SearchForm_formHints__3ZMG2\",\"formHint\":\"SearchForm_formHint__2B8jV\",\"formLabel\":\"SearchForm_formLabel__2Uv10\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"TableBody_info__rYA8T\",\"lastCol\":\"TableBody_lastCol__25mFb\",\"deleteButton\":\"TableBody_deleteButton__3RPWE\",\"controlls\":\"TableBody_controlls__3l-qT\",\"pageButton\":\"TableBody_pageButton__3co4q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputField\":\"AddUsers_inputField__3Nn2m\",\"buttonReset\":\"AddUsers_buttonReset__3eNAX\",\"inputError\":\"AddUsers_inputError__3rQxI\",\"inputErrorActive\":\"AddUsers_inputErrorActive__3XNnr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sortButton\":\"TableHeader_sortButton__1SVQQ\",\"lastCol\":\"TableHeader_lastCol__1AEMO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"Table_table__ojBh3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\"};","import React, { useState, useEffect } from \"react\";\r\nimport styles from \"./SearchForm.module.css\";\r\n\r\nexport default function SearchForm({\r\n  usersToDisplay,\r\n  setUsersToDisplay,\r\n  currentUsers,\r\n  handleChange,\r\n  setUpdateUsers,\r\n}) {\r\n  const [inputSearch, setInputSearch] = useState(\"\");\r\n  const [selectedField, setSelectedField] = useState(\"\");\r\n  const [fields, setFields] = useState([]);\r\n  const [searchHints, setSearchHints] = useState([]);\r\n  const [findedUsers, setFindedUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setFields([...Object.keys(currentUsers[0])]);\r\n    setSelectedField(Object.keys(currentUsers[0])[0]);\r\n  }, [currentUsers]);\r\n\r\n  const handleShowFindedUsers = React.useCallback(\r\n    (event) => {\r\n      if (searchHints && event.key === \"Enter\") {\r\n        setUsersToDisplay([...findedUsers]);\r\n        setSearchHints([]);\r\n        setInputSearch(\"\");\r\n      }\r\n    },\r\n    [searchHints, findedUsers, setUsersToDisplay]\r\n  );\r\n\r\n  useEffect(() => {\r\n    function handleResetSearch(event) {\r\n      if (!event.target.className.includes(\"formHint\")) {\r\n        setSearchHints([]);\r\n        setInputSearch(\"\");\r\n      }\r\n    }\r\n    document.addEventListener(\"click\", handleResetSearch);\r\n    return () => document.removeEventListener(\"click\", handleResetSearch);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keypress\", handleShowFindedUsers);\r\n    return () =>\r\n      document.removeEventListener(\"keypress\", handleShowFindedUsers);\r\n  }, [handleShowFindedUsers]);\r\n\r\n  const handleSearch = (event) => {\r\n    setInputSearch(event.target.value.toLowerCase());\r\n    const searchQuery = event.target.value.toLowerCase();\r\n\r\n    const findedUsers = usersToDisplay.filter((elem) => {\r\n      return elem[selectedField].toLowerCase().indexOf(searchQuery) !== -1;\r\n    });\r\n    let hints = findedUsers.map((elem) => elem[selectedField]);\r\n    hints = hints.filter((v, i, a) => a.indexOf(v) === i);\r\n    setSearchHints([...hints]);\r\n    setFindedUsers([...findedUsers]);\r\n    setUpdateUsers(false);\r\n  };\r\n\r\n  const handleHintClick = (hint) => {\r\n    const selectedData = usersToDisplay.filter((elem) => {\r\n      return elem[selectedField] === hint;\r\n    });\r\n    setUsersToDisplay([...selectedData]);\r\n    setSearchHints([]);\r\n    setInputSearch(hint);\r\n    setUpdateUsers(false);\r\n  };\r\n  const handleResetFilters = () => {\r\n    setUsersToDisplay([...currentUsers]);\r\n    setUpdateUsers(false);\r\n    handleChange(\"usersCount\", currentUsers.length);\r\n  };\r\n\r\n  const renderSelect = () => {\r\n    const translatedFields = fields.map((name) => {\r\n      switch (name) {\r\n        case \"name\":\r\n          return \"имя\";\r\n        case \"gender\":\r\n          return \"пол\";\r\n        default:\r\n          return name;\r\n      }\r\n    });\r\n\r\n    return (\r\n      <>\r\n        {translatedFields.map((field, i) => (\r\n          <option value={[fields[i]]} key={field}>\r\n            {field}\r\n          </option>\r\n        ))}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <form className={styles.form} onSubmit={(event) => event.preventDefault()}>\r\n      <select\r\n        value={selectedField}\r\n        onChange={(event) => setSelectedField(event.target.value)}\r\n        className={styles.formSelect}\r\n      >\r\n        {renderSelect()}\r\n      </select>\r\n      <div className={styles.inputField}>\r\n        <input\r\n          value={inputSearch}\r\n          onChange={handleSearch}\r\n          className={styles.formInput}\r\n        />\r\n        <div className={styles.formHints}>\r\n          {searchHints.slice(0, 10).map((hint, key) => (\r\n            <p\r\n              className={styles.formHint}\r\n              key={key}\r\n              onClick={() => handleHintClick(hint)}\r\n            >\r\n              {hint}\r\n            </p>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <button\r\n        type=\"button\"\r\n        onClick={handleResetFilters}\r\n        className={styles.formButton}\r\n      >\r\n        Сбросить фильтры\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","export default function dynamicSort(property) {\n  let sortOrder = 1;\n  if (property[0] === \"-\") {\n    sortOrder = -1;\n    property = property.substr(1);\n  }\n  return function (a, b) {\n    let result =\n      a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\n    return result * sortOrder;\n  };\n}\n","import React, { useState } from \"react\";\nimport SearchForm from \"./SearchForm\";\nimport dynamicSort from \"./utils/sort\";\nimport styles from \"./TableHeader.module.css\";\n\nexport default function TableHeader({\n  usersToDisplay,\n  setUsersToDisplay,\n  currentUsers,\n  setUpdateUsers,\n  handleChange,\n}) {\n  const [sortCategory, setSortCategory] = useState(\"\");\n\n  const handleTableHeaderClick = (categoryName) => {\n    if (categoryName === sortCategory) {\n      setSortCategory(`-${categoryName}`);\n      setUsersToDisplay([\n        ...usersToDisplay.sort(dynamicSort(`-${categoryName}`)),\n      ]);\n    } else {\n      setSortCategory(categoryName);\n      setUsersToDisplay([...usersToDisplay.sort(dynamicSort(categoryName))]);\n    }\n    setUpdateUsers(false);\n  };\n\n  const showArrow = () => {\n    let arrow = \"\";\n    if (sortCategory) {\n      arrow = sortCategory.substr(0, 1) === \"-\" ? \"↓\" : \"↑\";\n    } else {\n      arrow = \"↓↑\";\n    }\n    return arrow;\n  };\n\n  return (\n    <thead>\n      <tr>\n        <th colSpan=\"3\">\n          <SearchForm\n            usersToDisplay={usersToDisplay}\n            setUsersToDisplay={setUsersToDisplay}\n            currentUsers={currentUsers}\n            setUpdateUsers={setUpdateUsers}\n            handleChange={handleChange}\n          />\n        </th>\n        <th className={styles.lastCol}></th>\n      </tr>\n      <tr>\n        <th>\n          <button\n            onClick={() => handleTableHeaderClick(\"name\")}\n            className={styles.sortButton}\n          >\n            {\" \"}\n            Имя {showArrow()}\n          </button>\n        </th>\n        <th>Пол</th>\n        <th>Email</th>\n        <th className={styles.lastCol}></th>\n      </tr>\n    </thead>\n  );\n}\n","import React from \"react\";\nimport styles from \"./TableBody.module.css\";\nimport usePagination from \"./hooks/usePagination\";\n\nconst USERS_PER_PAGE = 10;\n\nexport default function TableBody({\n  usersToDisplay,\n  setUsersToDisplay,\n  setUpdateUsers,\n  handleChange,\n  setCurrentUsers,\n  updateUsers,\n}) {\n  const {\n    currentPageData,\n    nextPage,\n    prevPage,\n    prevButtonDisabled,\n    nextButtonDisabled,\n  } = usePagination(USERS_PER_PAGE, usersToDisplay, updateUsers);\n  const handleRowDelete = (user) => {\n    const currentUsersAfterDelete = usersToDisplay.filter(\n      (usr) => usr.email !== user.email\n    );\n    if (currentUsersAfterDelete.length) {\n      setUsersToDisplay([...currentUsersAfterDelete]);\n      setCurrentUsers([...currentUsersAfterDelete]);\n      setUpdateUsers(false);\n      handleChange(\"usersCount\", currentUsersAfterDelete.length);\n    } else setUsersToDisplay([{}]);\n  };\n\n  const showData = () => {\n    if (Object.keys(usersToDisplay[0]).length) {\n      return (\n        <>\n          <tbody>\n            {currentPageData().map((user, i) => (\n              <tr key={i}>\n                <td key={user.name}>{user.name}</td>\n                <td key={user.gender}>{user.gender}</td>\n                <td key={user.email}>{user.email}</td>\n                <td key={i + \"delete\"} className={styles.lastCol}>\n                  <button\n                    onClick={() => {\n                      handleRowDelete(user);\n                    }}\n                    className={styles.deleteButton}\n                  >\n                    X\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n          <tfoot>\n            <tr>\n              <td colSpan=\"4\" className={styles.controlls}>\n                <button\n                  onClick={() => prevPage()}\n                  className={styles.pageButton}\n                  disabled={prevButtonDisabled()}\n                >\n                  Предыдущая стр\n                </button>\n                <button\n                  onClick={() => nextPage()}\n                  className={styles.pageButton}\n                  disabled={nextButtonDisabled()}\n                >\n                  Следующая стр\n                </button>\n              </td>\n            </tr>\n          </tfoot>\n        </>\n      );\n    } else\n      return (\n        <tbody>\n          <tr>\n            <td className={styles.info} colSpan=\"4\">\n              нет пользователей для отображения\n            </td>\n          </tr>\n        </tbody>\n      );\n  };\n\n  return showData();\n}\n","import React, { useState, useEffect } from \"react\";\n\nexport default function usePagination(itemsPerPage, data, isDataUpdated) {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [maxPage, setMaxPage] = useState(1);\n\n  useEffect(() => {\n    setMaxPage(Math.ceil(data.length / itemsPerPage));\n    if (!currentPageData().length) setCurrentPage(1);\n  }, [data, itemsPerPage]);\n\n  const currentPageData = () => {\n    const begin = (currentPage - 1) * itemsPerPage;\n    const end = begin + itemsPerPage;\n    return data.slice(begin, end);\n  };\n\n  const nextPage = () => {\n    setCurrentPage((currentPage) => Math.min(currentPage + 1, maxPage));\n  };\n\n  const prevPage = () => {\n    setCurrentPage((currentPage) => Math.max(currentPage - 1, 1));\n  };\n\n  const prevButtonDisabled = () => {\n    return currentPage === 1 ? true : false;\n  };\n  const nextButtonDisabled = () => {\n    return currentPage === maxPage ? true : false;\n  };\n\n  return {\n    currentPageData,\n    nextPage,\n    prevPage,\n    prevButtonDisabled,\n    nextButtonDisabled,\n  };\n}\n","import React from \"react\";\nimport TableHeader from \"./TableHeader\";\nimport TableBody from \"./TableBody\";\nimport styles from \"./Table.module.css\";\n\nexport default function Table({\n  usersToDisplay,\n  setUsersToDisplay,\n  currentUsers,\n  setUpdateUsers,\n  handleChange,\n  setCurrentUsers,\n  updateUsers,\n}) {\n  return (\n    <table className={styles.table}>\n      <TableHeader\n        usersToDisplay={usersToDisplay}\n        setUsersToDisplay={setUsersToDisplay}\n        currentUsers={currentUsers}\n        setUpdateUsers={setUpdateUsers}\n        handleChange={handleChange}\n      />\n      <TableBody\n        usersToDisplay={usersToDisplay}\n        setUsersToDisplay={setUsersToDisplay}\n        handleChange={handleChange}\n        setUpdateUsers={setUpdateUsers}\n        setCurrentUsers={setCurrentUsers}\n        updateUsers={updateUsers}\n      />\n    </table>\n  );\n}\n","import React from \"react\";\nimport styles from \"./AddUsers.module.css\";\n\nexport default function AddUsers({\n  usersCountHandleChange,\n  resetForm,\n  values,\n  isValid,\n  errors,\n}) {\n  return (\n    <form onSubmit={(event) => event.preventDefault()}>\n      <label>\n        Введите количество пользователей для отображения\n        <div className={styles.inputField}>\n          <input\n            id=\"usersCount\"\n            type=\"number\"\n            value={values.usersCount || \"\"}\n            onChange={usersCountHandleChange}\n            name=\"usersCount\"\n            min=\"1\"\n            max=\"100\"\n            required\n          />\n          <button\n            type=\"button\"\n            onClick={(event) =>\n              resetForm(\n                { usersCount: 0 },\n                { usersCount: \"Пожалуйста, введите число.\" },\n                false\n              )\n            }\n            className={styles.buttonReset}\n          >\n            очистить\n          </button>\n          <span\n            className={isValid ? styles.inputError : styles.inputErrorActive}\n          >\n            {errors.usersCount || \"\"}\n          </span>\n        </div>\n      </label>\n    </form>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport Table from \"./Table\";\nimport useDebounce from \"./hooks/useDebounce\";\nimport useFormWithValidation from \"./hooks/formWithValidation\";\nimport getUsers from \"./utils/api\";\nimport styles from \"./App.module.css\";\nimport AddUsers from \"./AddUsers\";\n\nconst INITIAL_USERS_COUNT = 10;\n\nfunction App() {\n  const [currentUsers, setCurrentUsers] = useState([{}]);\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n    handleChangeValueManually,\n  } = useFormWithValidation();\n  const usersCountInputDebounced = useDebounce(values.usersCount, 500, isValid);\n  const [usersToDisplay, setUsersToDisplay] = useState([{}]);\n  const [updateUsers, setUpdateUsers] = useState(true);\n\n  useEffect(() => {\n    resetForm({ usersCount: INITIAL_USERS_COUNT }, { usersCount: \"\" }, true);\n    if (localStorage.getItem(\"usersCount\")) {\n      resetForm(\n        { usersCount: localStorage.getItem(\"usersCount\") },\n        { usersCount: \"\" },\n        true\n      );\n      localStorage.removeItem(\"usersCount\");\n    } else {\n      localStorage.setItem(\"usersCount\", INITIAL_USERS_COUNT);\n    }\n  }, [resetForm]);\n\n  useEffect(() => {\n    if (updateUsers)\n      getUsers(usersCountInputDebounced)\n        .then((users) => {\n          setCurrentUsers(\n            users.map((user) => {\n              const renamedGender =\n                user.gender === \"male\" ? \"мужской\" : \"женский\";\n              return {\n                name: `${user.name.title} ${user.name.first} ${user.name.last}`,\n                gender: renamedGender,\n                email: user.email,\n              };\n            })\n          );\n          setUsersToDisplay(\n            users.map((user) => {\n              const renamedGender =\n                user.gender === \"male\" ? \"мужской\" : \"женский\";\n              return {\n                name: `${user.name.title} ${user.name.first} ${user.name.last}`,\n                gender: renamedGender,\n                email: user.email,\n              };\n            })\n          );\n        })\n        .catch((err) => console.log(err));\n    localStorage.setItem(\"usersCount\", usersCountInputDebounced);\n  }, [usersCountInputDebounced, updateUsers]);\n\n  const usersCountHandleChange = (event) => {\n    setUpdateUsers(true);\n    handleChange(event);\n  };\n\n  return (\n    <div className={styles.app}>\n      <AddUsers\n        usersCountHandleChange={usersCountHandleChange}\n        handleChange={handleChangeValueManually}\n        setUpdateUsers={setUpdateUsers}\n        resetForm={resetForm}\n        values={values}\n        isValid={isValid}\n        errors={errors}\n      />\n      <Table\n        handleChange={handleChangeValueManually}\n        setUpdateUsers={setUpdateUsers}\n        usersToDisplay={usersToDisplay}\n        setUsersToDisplay={setUsersToDisplay}\n        currentUsers={currentUsers}\n        setCurrentUsers={setCurrentUsers}\n        updateUsers={updateUsers}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React, { useCallback } from \"react\";\r\n\r\n//хук управления формой и валидации формы\r\nexport default function useFormWithValidation() {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: target.validationMessage });\r\n    setIsValid(target.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  const handleChangeValueManually = (field, value) => {\r\n    setValues({ ...values, [field]: value });\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n    handleChangeValueManually,\r\n  };\r\n}\r\n","import { useEffect, useState } from \"react\";\n\nexport default function useDebounce(value, delay, isValid) {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    if (isValid) {\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n      return () => {\n        clearTimeout(handler);\n      };\n    }\n  }, [value, delay, isValid]);\n\n  return debouncedValue;\n}\n","export default function getUsers(usersNumber) {\n  return fetch(`https://api.randomuser.me/?results=${usersNumber}`)\n    .then((res) => res.json())\n    .then((res) => res.results);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}