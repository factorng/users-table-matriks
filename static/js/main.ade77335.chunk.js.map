{"version":3,"sources":["SearchForm.module.css","AddUsers.module.css","TableHeader.module.css","TableBody.module.css","Table.module.css","App.module.css","SearchForm.js","utils/sort.js","TableHeader.js","TableBody.js","Table.js","AddUsers.js","App.js","hooks/formWithValidation.js","hooks/useDebounce.js","utils/api.js","index.js"],"names":["module","exports","SearchForm","usersToDisplay","setUsersToDisplay","currentUsers","useState","inputSearch","setInputSearch","selectedField","setSelectedField","fields","setFields","searchHints","setSearchHints","findedUsers","setFindedUsers","useEffect","Object","keys","handleShowFindedUsers","React","useCallback","event","key","handleResetSearch","target","className","includes","document","addEventListener","removeEventListener","styles","form","onSubmit","preventDefault","value","onChange","formSelect","translatedFields","map","name","field","i","renderSelect","inputField","toLowerCase","searchQuery","filter","elem","indexOf","hints","v","a","formInput","formHints","slice","hint","formHint","onClick","selectedData","handleHintClick","type","formButton","dynamicSort","property","sortOrder","substr","b","TableHeader","sortCategory","setSortCategory","colSpan","lastCol","categoryName","sort","sortButton","TableBody","length","user","gender","email","currentUsersAfterDelete","usr","handleRowDelete","deleteButton","info","Table","table","AddUsers","usersCountHandleChange","resetForm","values","isValid","errors","id","usersCount","min","max","required","buttonReset","inputError","inputErrorActive","App","setCurrentUsers","setValues","setErrors","setIsValid","newErrors","newIsValid","handleChange","validationMessage","closest","checkValidity","useFormWithValidation","usersCountInputDebounced","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","localStorage","getItem","removeItem","setItem","usersNumber","fetch","then","res","json","results","users","renamedGender","title","first","last","catch","err","console","log","app","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ade77335.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__1AHo6\",\"formSelect\":\"SearchForm_formSelect__2-hcv\",\"formButton\":\"SearchForm_formButton__1Rr0C\",\"inputField\":\"SearchForm_inputField__1zDtD\",\"formHints\":\"SearchForm_formHints__3ZMG2\",\"formHint\":\"SearchForm_formHint__2B8jV\",\"formLabel\":\"SearchForm_formLabel__2Uv10\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputField\":\"AddUsers_inputField__3Nn2m\",\"buttonReset\":\"AddUsers_buttonReset__3eNAX\",\"inputError\":\"AddUsers_inputError__3rQxI\",\"inputErrorActive\":\"AddUsers_inputErrorActive__3XNnr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sortButton\":\"TableHeader_sortButton__1SVQQ\",\"lastCol\":\"TableHeader_lastCol__1AEMO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"TableBody_info__rYA8T\",\"lastCol\":\"TableBody_lastCol__25mFb\",\"deleteButton\":\"TableBody_deleteButton__3RPWE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"Table_table__ojBh3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\"};","import React, { useState, useEffect } from \"react\";\r\nimport styles from \"./SearchForm.module.css\";\r\n\r\nexport default function SearchForm({\r\n  usersToDisplay,\r\n  setUsersToDisplay,\r\n  currentUsers,\r\n}) {\r\n  const [inputSearch, setInputSearch] = useState(\"\");\r\n  const [selectedField, setSelectedField] = useState(\"\");\r\n  const [fields, setFields] = useState([]);\r\n  const [searchHints, setSearchHints] = useState([]);\r\n  const [findedUsers, setFindedUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setFields([...Object.keys(currentUsers[0])]);\r\n    setSelectedField(Object.keys(currentUsers[0])[0]);\r\n  }, [currentUsers]);\r\n\r\n  const handleShowFindedUsers = React.useCallback(\r\n    (event) => {\r\n      if (searchHints && event.key === \"Enter\") {\r\n        setUsersToDisplay([...findedUsers]);\r\n        setSearchHints([]);\r\n        setInputSearch(\"\");\r\n      }\r\n    },\r\n    [searchHints, findedUsers, setUsersToDisplay]\r\n  );\r\n\r\n  useEffect(() => {\r\n    function handleResetSearch(event) {\r\n      if (!event.target.className.includes(\"formHint\")) {\r\n        setSearchHints([]);\r\n        setInputSearch(\"\");\r\n      }\r\n    }\r\n    document.addEventListener(\"click\", handleResetSearch);\r\n    return () => document.removeEventListener(\"click\", handleResetSearch);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keypress\", handleShowFindedUsers);\r\n    return () =>\r\n      document.removeEventListener(\"keypress\", handleShowFindedUsers);\r\n  }, [handleShowFindedUsers]);\r\n\r\n  const handleSearch = (event) => {\r\n    setInputSearch(event.target.value.toLowerCase());\r\n    const searchQuery = event.target.value.toLowerCase();\r\n\r\n    const findedUsers = usersToDisplay.filter((elem) => {\r\n      return elem[selectedField].toLowerCase().indexOf(searchQuery) !== -1;\r\n    });\r\n    let hints = findedUsers.map((elem) => elem[selectedField]);\r\n    hints = hints.filter((v, i, a) => a.indexOf(v) === i);\r\n    setSearchHints([...hints]);\r\n    setFindedUsers([...findedUsers]);\r\n  };\r\n\r\n  const handleHintClick = (hint) => {\r\n    const selectedData = usersToDisplay.filter((elem) => {\r\n      return elem[selectedField] === hint;\r\n    });\r\n    setUsersToDisplay([...selectedData]);\r\n    setSearchHints([]);\r\n    setInputSearch(hint);\r\n  };\r\n  const handleResetFilters = () => {\r\n    setUsersToDisplay([...currentUsers]);\r\n  };\r\n\r\n  const renderSelect = () => {\r\n    const translatedFields = fields.map((name) => {\r\n      switch (name) {\r\n        case \"name\":\r\n          return \"имя\";\r\n        case \"gender\":\r\n          return \"пол\";\r\n        default:\r\n          return name;\r\n      }\r\n    });\r\n\r\n    return (\r\n      <>\r\n        {translatedFields.map((field, i) => (\r\n          <option value={[fields[i]]} key={field}>\r\n            {field}\r\n          </option>\r\n        ))}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <form className={styles.form} onSubmit={(event) => event.preventDefault()}>\r\n      <select\r\n        value={selectedField}\r\n        onChange={(event) => setSelectedField(event.target.value)}\r\n        className={styles.formSelect}\r\n      >\r\n        {renderSelect()}\r\n      </select>\r\n      <div className={styles.inputField}>\r\n        <input\r\n          value={inputSearch}\r\n          onChange={handleSearch}\r\n          className={styles.formInput}\r\n        />\r\n        <div className={styles.formHints}>\r\n          {searchHints.slice(0, 10).map((hint, key) => (\r\n            <p\r\n              className={styles.formHint}\r\n              key={key}\r\n              onClick={() => handleHintClick(hint)}\r\n            >\r\n              {hint}\r\n            </p>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <button\r\n        type=\"button\"\r\n        onClick={handleResetFilters}\r\n        styles={styles.formButton}\r\n      >\r\n        Сбросить фильтры\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","export default function dynamicSort(property) {\n  let sortOrder = 1;\n  if (property[0] === \"-\") {\n    sortOrder = -1;\n    property = property.substr(1);\n  }\n  return function (a, b) {\n    let result =\n      a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\n    return result * sortOrder;\n  };\n}\n","import React, { useState } from \"react\";\nimport SearchForm from \"./SearchForm\";\nimport dynamicSort from \"./utils/sort\";\nimport styles from \"./TableHeader.module.css\";\n\nexport default function TableHeader({\n  usersToDisplay,\n  setUsersToDisplay,\n  currentUsers,\n}) {\n  const [sortCategory, setSortCategory] = useState(\"\");\n\n  const handleTableHeaderClick = (categoryName) => {\n    if (categoryName === sortCategory) {\n      setSortCategory(`-${categoryName}`);\n      setUsersToDisplay([\n        ...usersToDisplay.sort(dynamicSort(`-${categoryName}`)),\n      ]);\n    } else {\n      setSortCategory(categoryName);\n      setUsersToDisplay([...usersToDisplay.sort(dynamicSort(categoryName))]);\n    }\n  };\n\n  const showArrow = () => {\n    let arrow = \"\";\n    if (sortCategory) {\n      arrow = sortCategory.substr(0, 1) === \"-\" ? \"↓\" : \"↑\";\n    } else {\n      arrow = \"↓↑\";\n    }\n    return arrow;\n  };\n\n  return (\n    <thead>\n      <tr>\n        <th colSpan=\"3\">\n          <SearchForm\n            usersToDisplay={usersToDisplay}\n            setUsersToDisplay={setUsersToDisplay}\n            currentUsers={currentUsers}\n          />\n        </th>\n        <th className={styles.lastCol}></th>\n      </tr>\n      <tr>\n        <th>\n          <button\n            onClick={() => handleTableHeaderClick(\"name\")}\n            className={styles.sortButton}\n          >\n            {\" \"}\n            Имя {showArrow()}\n          </button>\n        </th>\n        <th>Пол</th>\n        <th>Email</th>\n        <th className={styles.lastCol}></th>\n      </tr>\n    </thead>\n  );\n}\n","import React from \"react\";\nimport styles from \"./TableBody.module.css\";\n\nexport default function TableBody({ usersToDisplay, setUsersToDisplay }) {\n  const handleRowDelete = (user) => {\n    const currentUsersAfterDelete = usersToDisplay.filter(\n      (usr) => usr.email !== user.email\n    );\n    if (currentUsersAfterDelete.length)\n      setUsersToDisplay([...currentUsersAfterDelete]);\n    else setUsersToDisplay([{}]);\n  };\n\n  const showData = () => {\n    if (Object.keys(usersToDisplay[0]).length) {\n      return (\n        <tbody>\n          {usersToDisplay.map((user, i) => (\n            <tr key={i}>\n              <td key={user.name}>{user.name}</td>\n              <td key={user.gender}>{user.gender}</td>\n              <td key={user.email}>{user.email}</td>\n              <td key={i + \"delete\"} className={styles.lastCol}>\n                <button\n                  onClick={() => handleRowDelete(user)}\n                  className={styles.deleteButton}\n                >\n                  X\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      );\n    } else\n      return (\n        <tbody>\n          <tr>\n            <td className={styles.info} colSpan=\"4\">\n              нет пользователей для отображения\n            </td>\n          </tr>\n        </tbody>\n      );\n  };\n\n  return showData();\n}\n","import React from \"react\";\nimport TableHeader from \"./TableHeader\";\nimport TableBody from \"./TableBody\";\nimport styles from \"./Table.module.css\";\n\nexport default function Table({\n  usersToDisplay,\n  setUsersToDisplay,\n  currentUsers,\n}) {\n  return (\n    <table className={styles.table}>\n      <TableHeader\n        usersToDisplay={usersToDisplay}\n        setUsersToDisplay={setUsersToDisplay}\n        currentUsers={currentUsers}\n      />\n      <TableBody\n        usersToDisplay={usersToDisplay}\n        setUsersToDisplay={setUsersToDisplay}\n      />\n    </table>\n  );\n}\n","import React from \"react\";\nimport styles from \"./AddUsers.module.css\";\n\nexport default function AddUsers({\n  usersCountHandleChange,\n  resetForm,\n  values,\n  isValid,\n  errors,\n}) {\n  return (\n    <form onSubmit={(event) => event.preventDefault()}>\n      <label>\n        Введите количество пользователей для отображения\n        <div className={styles.inputField}>\n          <input\n            id=\"usersCount\"\n            type=\"number\"\n            value={values.usersCount || \"\"}\n            onChange={usersCountHandleChange}\n            name=\"usersCount\"\n            min=\"1\"\n            max=\"100\"\n            required\n          />\n          <button\n            type=\"button\"\n            onClick={(event) =>\n              resetForm(\n                { usersCount: 0 },\n                { usersCount: \"Пожалуйста, введите число.\" },\n                false\n              )\n            }\n            className={styles.buttonReset}\n          >\n            очистить\n          </button>\n          <span\n            className={isValid ? styles.inputError : styles.inputErrorActive}\n          >\n            {errors.usersCount || \"\"}\n          </span>\n        </div>\n      </label>\n    </form>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport Table from \"./Table\";\nimport useDebounce from \"./hooks/useDebounce\";\nimport useFormWithValidation from \"./hooks/formWithValidation\";\nimport getUsers from \"./utils/api\";\nimport styles from \"./App.module.css\";\nimport AddUsers from \"./AddUsers\";\n\nconst INITIAL_USERS_COUNT = 10;\n\nfunction App() {\n  const [currentUsers, setCurrentUsers] = useState([{}]);\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormWithValidation();\n  const usersCountInputDebounced = useDebounce(values.usersCount, 500, isValid);\n  const [usersToDisplay, setUsersToDisplay] = useState([{}]);\n\n  useEffect(() => {\n    resetForm({ usersCount: INITIAL_USERS_COUNT }, { usersCount: \"\" }, true);\n    if (localStorage.getItem(\"usersCount\")) {\n      resetForm(\n        { usersCount: localStorage.getItem(\"usersCount\") },\n        { usersCount: \"\" },\n        true\n      );\n      localStorage.removeItem(\"usersCount\");\n    } else {\n      localStorage.setItem(\"usersCount\", INITIAL_USERS_COUNT);\n    }\n  }, [resetForm]);\n\n  useEffect(() => {\n    getUsers(usersCountInputDebounced)\n      .then((users) => {\n        setCurrentUsers(\n          users.map((user) => {\n            const renamedGender =\n              user.gender === \"male\" ? \"мужской\" : \"женский\";\n            return {\n              name: `${user.name.title} ${user.name.first} ${user.name.last}`,\n              gender: renamedGender,\n              email: user.email,\n            };\n          })\n        );\n        setUsersToDisplay(\n          users.map((user) => {\n            const renamedGender =\n              user.gender === \"male\" ? \"мужской\" : \"женский\";\n            return {\n              name: `${user.name.title} ${user.name.first} ${user.name.last}`,\n              gender: renamedGender,\n              email: user.email,\n            };\n          })\n        );\n      })\n      .catch((err) => console.log(err));\n    localStorage.setItem(\"usersCount\", usersCountInputDebounced);\n  }, [usersCountInputDebounced]);\n\n  // если нет юзеров заглушка \"нет пользователей\"\n  const usersCountHandleChange = (event) => {\n    handleChange(event);\n  };\n\n  return (\n    <div className={styles.app}>\n      <AddUsers\n        usersCountHandleChange={usersCountHandleChange}\n        resetForm={resetForm}\n        values={values}\n        isValid={isValid}\n        errors={errors}\n      />\n      <Table\n        usersToDisplay={usersToDisplay}\n        setUsersToDisplay={setUsersToDisplay}\n        currentUsers={currentUsers}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React, { useCallback } from 'react';\r\n\r\n//хук управления формой и валидации формы\r\nexport default function useFormWithValidation() {\r\n    const [values, setValues] = React.useState({});\r\n    const [errors, setErrors] = React.useState({});\r\n    const [isValid, setIsValid] = React.useState(false);\r\n  \r\n    const handleChange = (event) => {\r\n      const target = event.target;\r\n      const name = target.name;\r\n      const value = target.value;\r\n      setValues({...values, [name]: value});\r\n      setErrors({...errors, [name]: target.validationMessage });\r\n      setIsValid(target.closest(\"form\").checkValidity());\r\n    };\r\n  \r\n    const resetForm = useCallback(\r\n      (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n        setValues(newValues);\r\n        setErrors(newErrors);\r\n        setIsValid(newIsValid);\r\n      },\r\n      [setValues, setErrors, setIsValid]\r\n    );\r\n  \r\n    return { values, handleChange, errors, isValid, resetForm };\r\n  }","import { useEffect, useState } from \"react\";\n\nexport default function useDebounce(value, delay, isValid) {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    if (isValid) {\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n      return () => {\n        clearTimeout(handler);\n      };\n    }\n  }, [value, delay, isValid]);\n\n  return debouncedValue;\n}\n","export default function getUsers(usersNumber) {\n  return fetch(`https://api.randomuser.me/?results=${usersNumber}`)\n    .then((res) => res.json())\n    .then((res) => res.results);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}