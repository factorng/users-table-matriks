(this["webpackJsonpusers-table-matriks"]=this["webpackJsonpusers-table-matriks"]||[]).push([[0],[,,,,function(e,t,n){e.exports={form:"SearchForm_form__1AHo6",formSelect:"SearchForm_formSelect__2-hcv",formButton:"SearchForm_formButton__1Rr0C",formInput:"SearchForm_formInput__32CV9",formHints:"SearchForm_formHints__3ZMG2",formHint:"SearchForm_formHint__2B8jV",formLabel:"SearchForm_formLabel__2Uv10"}},,,,function(e,t,n){e.exports={inputField:"AddUsers_inputField__3Nn2m",buttonReset:"AddUsers_buttonReset__3eNAX",inputError:"AddUsers_inputError__3rQxI",inputErrorActive:"AddUsers_inputErrorActive__3XNnr"}},,function(e,t,n){e.exports={sortButton:"TableHeader_sortButton__1SVQQ",lastCol:"TableHeader_lastCol__1AEMO"}},function(e,t,n){e.exports={info:"TableBody_info__rYA8T",lastCol:"TableBody_lastCol__25mFb",deleteButton:"TableBody_deleteButton__3RPWE"}},,,function(e,t,n){e.exports={table:"Table_table__ojBh3"}},function(e,t,n){e.exports={app:"App_app__1kX79"}},,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(13),c=n.n(a),o=(n(20),n(2)),u=n(3),i=n(4),l=n.n(i),j=n(0);function b(e){var t=e.usersToDisplay,n=e.setUsersToDisplay,s=e.currentUsers,a=Object(r.useState)(""),c=Object(o.a)(a,2),i=c[0],b=c[1],m=Object(r.useState)(""),f=Object(o.a)(m,2),d=f[0],O=f[1],h=Object(r.useState)([]),p=Object(o.a)(h,2),v=p[0],_=p[1],x=Object(r.useState)([]),C=Object(o.a)(x,2),g=C[0],S=C[1];Object(r.useEffect)((function(){_(Object(u.a)(Object.keys(t[0]))),O(Object.keys(t[0])[0])}),[t]),Object(r.useEffect)((function(){function e(){S([]),b("")}return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}));return Object(j.jsxs)("form",{className:l.a.form,onSubmit:function(e){return e.preventDefault()},children:[Object(j.jsx)("select",{value:d,onChange:function(e){return O(e.target.value)},className:l.a.formSelect,children:function(){var e=v.map((function(e){switch(e){case"name":return"\u0438\u043c\u044f";case"gender":return"\u043f\u043e\u043b";default:return e}}));return Object(j.jsx)(j.Fragment,{children:e.map((function(e,t){return Object(j.jsx)("option",{value:[v[t]],children:e},e)}))})}()}),Object(j.jsx)("input",{value:i,onChange:function(e){b(e.target.value.toLowerCase());var n=e.target.value.toLowerCase(),r=t.filter((function(e){return-1!==e[d].toLowerCase().indexOf(n)})).map((function(e){return e[d]}));r=r.filter((function(e,t,n){return n.indexOf(e)===t})),S(Object(u.a)(r))},className:l.a.formInput}),Object(j.jsx)("div",{className:l.a.formHints,children:g.slice(0,10).map((function(e,r){return Object(j.jsx)("p",{className:l.a.formHint,onClick:function(){return function(e){var r=t.filter((function(t){return t[d]===e}));n(Object(u.a)(r)),S([]),b("")}(e)},children:e},r)}))}),Object(j.jsx)("button",{type:"button",onClick:function(){n(Object(u.a)(s))},styles:l.a.formButton,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})]})}function m(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,r){return(n[e]<r[e]?-1:n[e]>r[e]?1:0)*t}}var f=n(10),d=n.n(f);function O(e){var t=e.usersToDisplay,n=e.setUsersToDisplay,s=e.currentUsers,a=Object(r.useState)(""),c=Object(o.a)(a,2),i=c[0],l=c[1];return Object(j.jsxs)("thead",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{colSpan:"3",children:Object(j.jsx)(b,{usersToDisplay:t,setUsersToDisplay:n,currentUsers:s})}),Object(j.jsx)("th",{className:d.a.lastCol})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:Object(j.jsxs)("button",{onClick:function(){var e;(e="name")===i?(l("-".concat(e)),n(Object(u.a)(t.sort(m("-".concat(e)))))):(l(e),n(Object(u.a)(t.sort(m(e)))))},className:d.a.sortButton,children:[" ","\u0418\u043c\u044f ",i?"-"===i.substr(0,1)?"\u2193":"\u2191":"\u2193\u2191"]})}),Object(j.jsx)("th",{children:"\u041f\u043e\u043b"}),Object(j.jsx)("th",{children:"Email"}),Object(j.jsx)("th",{className:d.a.lastCol})]})]})}var h=n(11),p=n.n(h);function v(e){var t=e.usersToDisplay,n=e.setUsersToDisplay;return Object.keys(t[0]).length?Object(j.jsx)("tbody",{children:t.map((function(e,r){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name},e.name),Object(j.jsx)("td",{children:e.gender},e.gender),Object(j.jsx)("td",{children:e.email},e.email),Object(j.jsx)("td",{className:p.a.lastCol,children:Object(j.jsx)("button",{onClick:function(){return function(e){var r=t.filter((function(t){return t.email!==e.email}));r.length?n(Object(u.a)(r)):n([{}])}(e)},className:p.a.deleteButton,children:"X"})},r+"delete")]},r)}))}):Object(j.jsx)("tbody",{children:Object(j.jsx)("tr",{children:Object(j.jsx)("td",{className:p.a.info,colSpan:"4",children:"\u043d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})})})}var _=n(14),x=n.n(_);function C(e){var t=e.usersToDisplay,n=e.setUsersToDisplay,r=e.currentUsers;return Object(j.jsxs)("table",{className:x.a.table,children:[Object(j.jsx)(O,{usersToDisplay:t,setUsersToDisplay:n,currentUsers:r}),Object(j.jsx)(v,{usersToDisplay:t,setUsersToDisplay:n})]})}var g=n(6),S=n(7);var y=n(15),T=n.n(y),N=n(8),U=n.n(N);function D(e){var t=e.usersCountHandleChange,n=e.resetForm,r=e.values,s=e.isValid,a=e.errors;return Object(j.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(j.jsxs)("label",{children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",Object(j.jsxs)("div",{className:U.a.inputField,children:[Object(j.jsx)("input",{id:"usersCount",type:"number",value:r.usersCount||"",onChange:t,name:"usersCount",min:"1",max:"100",required:!0}),Object(j.jsx)("button",{type:"button",onClick:function(e){return n({usersCount:0},{usersCount:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e."},!1)},className:U.a.buttonReset,children:"\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),Object(j.jsx)("span",{className:s?U.a.inputError:U.a.inputErrorActive,children:a.usersCount||""})]})]})})}var k=function(){var e=Object(r.useState)([{}]),t=Object(o.a)(e,2),n=t[0],a=t[1],c=function(){var e=s.a.useState({}),t=Object(o.a)(e,2),n=t[0],a=t[1],c=s.a.useState({}),u=Object(o.a)(c,2),i=u[0],l=u[1],j=s.a.useState(!1),b=Object(o.a)(j,2),m=b[0],f=b[1],d=Object(r.useCallback)((function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),l(e),f(t)}),[a,l,f]);return{values:n,handleChange:function(e){var t=e.target,r=t.name,s=t.value;a(Object(S.a)(Object(S.a)({},n),{},Object(g.a)({},r,s))),l(Object(S.a)(Object(S.a)({},i),{},Object(g.a)({},r,t.validationMessage))),f(t.closest("form").checkValidity())},errors:i,isValid:m,resetForm:d}}(),u=c.values,i=c.handleChange,l=c.errors,b=c.isValid,m=c.resetForm,f=function(e,t,n){var s=Object(r.useState)(e),a=Object(o.a)(s,2),c=a[0],u=a[1];return Object(r.useEffect)((function(){if(n){var r=setTimeout((function(){u(e)}),t);return function(){clearTimeout(r)}}}),[e,t,n]),c}(u.usersCount,500,b),d=Object(r.useState)([{}]),O=Object(o.a)(d,2),h=O[0],p=O[1];return Object(r.useEffect)((function(){m({usersCount:10},{usersCount:""},!0),localStorage.getItem("usersCount")?(m({usersCount:localStorage.getItem("usersCount")},{usersCount:""},!0),localStorage.removeItem("usersCount")):localStorage.setItem("usersCount",10)}),[m]),Object(r.useEffect)((function(){var e;(e=f,fetch("https://api.randomuser.me/?results=".concat(e)).then((function(e){return e.json()})).then((function(e){return e.results}))).then((function(e){a(e.map((function(e){var t="male"===e.gender?"\u043c\u0443\u0436\u0441\u043a\u043e\u0439":"\u0436\u0435\u043d\u0441\u043a\u0438\u0439";return{name:"".concat(e.name.title," ").concat(e.name.first," ").concat(e.name.last),gender:t,email:e.email}}))),p(e.map((function(e){var t="male"===e.gender?"\u043c\u0443\u0436\u0441\u043a\u043e\u0439":"\u0436\u0435\u043d\u0441\u043a\u0438\u0439";return{name:"".concat(e.name.title," ").concat(e.name.first," ").concat(e.name.last),gender:t,email:e.email}})))})).catch((function(e){return console.log(e)})),localStorage.setItem("usersCount",f)}),[f]),Object(j.jsxs)("div",{className:T.a.app,children:[Object(j.jsx)(D,{usersCountHandleChange:function(e){i(e)},resetForm:m,values:u,isValid:b,errors:l}),Object(j.jsx)(C,{usersToDisplay:h,setUsersToDisplay:p,currentUsers:n})]})};c.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(k,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.de97bd86.chunk.js.map